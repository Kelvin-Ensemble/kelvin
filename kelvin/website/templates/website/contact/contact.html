{% extends "website/base/subbase.html" %}
{% load static from staticfiles %}

{% block extrastyle %}
<style>	
	#page-header {
		background-image: url("{% static 'website/media/img/headers/contact/contact.jpg' %}");
	}
</style>
{% endblock %}

{% block title %}
Contact Us
{% endblock %}

{% block page-icon %}
<i class="fa fa-envelope fa-3x sr-contact text-white header-icon"></i>
{% endblock %}

{% block header %}
Contact us
{% endblock %}

{% block content %}


<!-- Contact form -->

<form id="my-form"
  action="https://formspree.io/xjvoljoq"
  method="POST"
>
  <label>Name:</label>
  <input type="name" name="name" placeholder="Hermione Granger">
  <label>Email:</label>
  <input type="email" name="email" placeholder="hermione@hogwarts.uk">
  <!-- <label>Message:</label> -->
  <textarea type="text" name="message" placeholder="Write something..."></textarea>
  <input type="submit" id="my-form-button">
  <p id="my-form-status"></p>
</form>

<!-- Place this script at the end of the body tag -->

<script>
  window.addEventListener("DOMContentLoaded", function() {

    // get the form elements defined in your form HTML above
    
    var form = document.getElementById("my-form");
    var button = document.getElementById("my-form-button");
    var status = document.getElementById("my-form-status");

    // Success and Error functions for after the form is submitted
    
    function success() {
      form.reset();
      button.style = "display: none ";
      status.innerHTML = "Thank you!";
    }

    function error() {
      status.innerHTML = "Oops! There was a problem.";
    }

    // handle the form submission event

    form.addEventListener("submit", function(ev) {
      ev.preventDefault();
      var data = new FormData(form);
      ajax(form.method, form.action, data, success, error);
    });
  });
  
  // helper function for sending an AJAX request

  function ajax(method, url, data, success, error) {
    var xhr = new XMLHttpRequest();
    xhr.open(method, url);
    xhr.setRequestHeader("Accept", "application/json");
    xhr.onreadystatechange = function() {
      if (xhr.readyState !== XMLHttpRequest.DONE) return;
      if (xhr.status === 200) {
        success(xhr.response, xhr.responseType);
      } else {
        error(xhr.status, xhr.response, xhr.responseType);
      }
    };
    xhr.send(data);
  }
</script>




<!-- <p>
  The most appropriate addresses for a number of common queries are below.  The Ensemble also has a postbox in the University's Music Faculty.
</p>

<div class="left_align_text allow_bullets">
  <ul>
    <li>For information on concerts, or to reserve tickets, please contact <a href="mailto:treasurer&#64;kelvin-ensemble.co.uk">treasurer&#64;kelvin-ensemble.co.uk</a></li>
    <li>To find out more about auditions and joining the ensemble, please contact <a href="mailto:stringmanager&#64;kelvin-ensemble.co.uk">stringmanager&#64;kelvin-ensemble.co.uk</a> for string players, or <a href="mailto:bwp&#64;kelvin-ensemble.co.uk">bwp&#64;kelvin-ensemble.co.uk</a> for brass, wind and percussion players.</li>
    <li>For information on our friends and sponsorship schemes, please contact <a href="mailto:fundraising&#64;kelvin-ensemble.co.uk">fundraising&#64;kelvin-ensemble.co.uk</a></li>
    <li>For information on tour, please contact <a href="mailto:tourmanager&#64;kelvin-ensemble.co.uk">tourmanager&#64;kelvin-ensemble.co.uk</a></li>
    <li>For other queries, please contact <a href="mailto:secretary&#64;kelvin-ensemble.co.uk">secretary&#64;kelvin-ensemble.co.uk</a> or <a href="mailto:webmaster&#64;kelvin-ensemble.co.uk">webmaster&#64;kelvin-ensemble.co.uk</a></li>
  </ul>
</div>

<hr class="primary">

A full list of the Kelvin Ensemble Committee is listed in the <a href="committee">committee</a> page. -->

{% endblock %}